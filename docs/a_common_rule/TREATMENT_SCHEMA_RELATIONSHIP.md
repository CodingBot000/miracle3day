# MimoTok ì‹œìˆ  ë°ì´í„° ìŠ¤í‚¤ë§ˆ & ê´€ê³„ë„

> ë³‘ì› ì‹œìˆ  ë°ì´í„°(treatment_product)ì™€ í”Œë«í¼ ì‹œìˆ  ë§ˆìŠ¤í„° ë°ì´í„° ê°„ì˜ ê´€ê³„ ì •ì˜

---

## ğŸ“Š í…Œì´ë¸” ê°œìš”

| í…Œì´ë¸” | ì—­í•  | ë ˆì½”ë“œ ìˆ˜ |
|--------|------|----------|
| `treatments_root` | ì‹œìˆ  ë§ˆìŠ¤í„° (ê·¼ì› ì •ë³´) | 181ê°œ |
| `treatments_alias` | ì‹œìˆ  ë³„ì¹­ (ë™ì˜ì–´) | 96ê°œ |
| `treatment_similar_groups` | ìœ ì‚¬ íš¨ê³¼ ì‹œìˆ  ê·¸ë£¹ | 10ê°œ |
| `treatment_care_protocols` | ë¶€ìœ„ë³„/íš¨ê³¼ë³„ ì‹œìˆ  ì¡°í•© | 28ê°œ |
| `treatment_product` | ë³‘ì› ì œê³µ ì‹œìˆ  (ì›ë³¸) | 869ê°œ |

---

## ğŸ”— í…Œì´ë¸” ê´€ê³„ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         treatment_care_protocols                            â”‚
â”‚  (ë¶€ìœ„ë³„/íš¨ê³¼ë³„ ì‹œìˆ  í”„ë¡œí† ì½œ - í™”ë©´ì— ì¹´ë“œë¡œ í‘œì‹œ)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  id (PK)           : "antiaging_regeneration__face_all"                     â”‚
â”‚  topic_id          : "antiaging_regeneration"                               â”‚
â”‚  area_id           : "face_all"                                             â”‚
â”‚  primary_treatment_ids : {potenza_ddr, rejurans, skin_booster, ...}  â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  alt_treatment_ids     : {exoskin, pdrn_salmon, prp, ...}            â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  combo_treatment_ids   : {fraxel_fullface, rf_needle, ulthera, ...}  â”€â”€â”€â”€â”€â”€â”¤â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ treatment_idsëŠ” ì•„ë˜ í…Œì´ë¸”ë“¤ì˜ idë¥¼ ì°¸ì¡°
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           treatments_root                                   â”‚
â”‚  (ì‹œìˆ  ë§ˆìŠ¤í„° í…Œì´ë¸” - ê°€ì¥ ê¸°ë³¸ì´ ë˜ëŠ” ì‹œìˆ  ì •ë³´)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  id (PK)    : "potenza", "ulthera", "shurink", ...                          â”‚
â”‚  ko         : "í¬í…ì", "ìš¸ì„ë¼", "ìŠˆë§í¬", ...                                â”‚
â”‚  en         : "Potenza", "Ulthera", "Shurink", ...                          â”‚
â”‚  group_id   : "lifting", "skin_booster", "filler_volume", ... â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  summary    : JSONB (ì‹œìˆ  ì„¤ëª…)                                              â”‚
â”‚  attributes : JSONB (ë¹„ìš©, í†µì¦, íš¨ê³¼, ë‹¤ìš´íƒ€ì„ ë“±)                            â”‚
â”‚  category   : "skin", "body", ...                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â–²                                                                     â”‚
        â”‚ root_idë¡œ ì°¸ì¡°                                                       â”‚
        â”‚                                                                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          treatments_alias                                   â”‚
â”‚  (ê°™ì€ ì‹œìˆ ì˜ ë‹¤ë¥¸ ì´ë¦„ë“¤ - ë™ì˜ì–´/ë³„ì¹­)                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  alias_id (PK) : "eye_shurink", "eye_thermage", ...                         â”‚
â”‚  root_id (FK)  : "shurink", "thermage", ... â”€â”€â–¶ treatments_root.id          â”‚
â”‚  ko            : "ì•„ì´ìŠˆë§í¬", "ì•„ì´ì¨ë§ˆì§€", ...                                â”‚
â”‚  en            : "Eye Shurink", "Eye Thermage", ...                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ group_idë¡œ ì—°ê²°
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       treatment_similar_groups                              â”‚
â”‚  (ìœ ì‚¬ íš¨ê³¼ ì‹œìˆ ë“¤ì˜ ê·¸ë£¹ - ì¹´í…Œê³ ë¦¬)                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  group_id (PK) : "lifting", "filler_volume", "tone_pigment", ...            â”‚
â”‚  ko            : "ë¦¬í”„íŒ…Â·íƒ„ë ¥Â·ë³¼ë¥¨", "í•„ëŸ¬Â·ë³¼ë¥¨ ë³´ê°•", ...                       â”‚
â”‚  en            : "Lifting & Volume", "Fillers & Volume Restoration", ...    â”‚
â”‚  description   : JSONB (ê·¸ë£¹ ì„¤ëª…)                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          treatment_product                                  â”‚
â”‚  (ë³‘ì›ì—ì„œ ë°›ì€ ì›ë³¸ ì‹œìˆ  ë°ì´í„° - ë³‘ì›ë³„ ì‹¤ì œ ìƒí’ˆ)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  id (PK)            : 1, 2, 3, ...                                          â”‚
â”‚  id_uuid_hospital   : UUID â”€â”€â–¶ hospitals.id                                 â”‚
â”‚  department         : "skin", "plastic", ...                                â”‚
â”‚  level1             : JSONB {"ko": "í•„ë§, ê´€ë¦¬", "en": "Peeling & Care"}     â”‚
â”‚  name               : JSONB {"ko": "í¬í…ì ì–¼êµ´", "en": "Potenza Face"}      â”‚
â”‚  price              : 150000                                                â”‚
â”‚  group_id           : "lifting", "botox", ... (ë³‘ì›ì´ ë¶„ë¥˜í•œ ê²ƒ)              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â˜… ìƒˆë¡œ ì¶”ê°€ëœ ì»¬ëŸ¼ (ë§¤ì¹­ ê²°ê³¼)                                                â”‚
â”‚  matched_root_ids   : TEXT[] â”€â”€â–¶ treatments_root.id ë°°ì—´                    â”‚
â”‚  match_score        : INTEGER (ë§¤ì¹­ ì‹ ë¢°ë„)                                  â”‚
â”‚  match_source       : TEXT (ë§¤ì¹­ ë°©ë²•)                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”‘ í‚¤ ê´€ê³„ ìš”ì•½

### 1. treatments_root â†” treatments_alias
```
treatments_alias.root_id  â”€â”€â–¶  treatments_root.id
```
- 1:N ê´€ê³„ (í•˜ë‚˜ì˜ rootì— ì—¬ëŸ¬ alias ê°€ëŠ¥)
- ì˜ˆ: `shurink` â†’ `eye_shurink`, `shrink_universe`

### 2. treatments_root â†” treatment_similar_groups
```
treatments_root.group_id  â”€â”€â–¶  treatment_similar_groups.group_id
```
- N:1 ê´€ê³„ (ì—¬ëŸ¬ ì‹œìˆ ì´ í•˜ë‚˜ì˜ ê·¸ë£¹ì— ì†í•¨)
- ì˜ˆ: `potenza`, `ulthera`, `shurink` â†’ `lifting` ê·¸ë£¹

### 3. treatment_care_protocols â†’ treatments_root
```
treatment_care_protocols.primary_treatment_ids  â”€â”€â–¶  treatments_root.id (ë°°ì—´)
treatment_care_protocols.alt_treatment_ids      â”€â”€â–¶  treatments_root.id (ë°°ì—´)
treatment_care_protocols.combo_treatment_ids    â”€â”€â–¶  treatments_root.id (ë°°ì—´)
```
- í”„ë¡œí† ì½œì€ ì—¬ëŸ¬ ì‹œìˆ  IDë¥¼ ë°°ì—´ë¡œ ì°¸ì¡°
- ì¼ë¶€ëŠ” alias_idë¥¼ ì°¸ì¡°í•  ìˆ˜ë„ ìˆìŒ

### 4. treatment_product â†’ treatments_root (â˜… ìƒˆë¡œ ìƒì„±ëœ ê´€ê³„)
```
treatment_product.matched_root_ids  â”€â”€â–¶  treatments_root.id (ë°°ì—´)
```
- ë³‘ì› ìƒí’ˆì´ ì—¬ëŸ¬ root ì‹œìˆ ê³¼ ë§¤ì¹­ë  ìˆ˜ ìˆìŒ
- ì˜ˆ: "í”¼ì½”ìŠˆì–´ í† ë‹" â†’ `['pico_laser', 'pico_toning']`

### 5. treatment_product â†’ hospitals
```
treatment_product.id_uuid_hospital  â”€â”€â–¶  hospitals.id
```
- ê° ìƒí’ˆì€ í•˜ë‚˜ì˜ ë³‘ì›ì— ì†í•¨

---

## ğŸ“ˆ ë§¤ì¹­ ë©”íƒ€ë°ì´í„° ì„¤ëª…

### match_score (ë§¤ì¹­ ì‹ ë¢°ë„)

| ì ìˆ˜ | ë ˆë²¨ | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|------|
| **100** | ì •í™• ë§¤ì¹˜ | ì‹œìˆ ëª…ì´ ì •í™•íˆ ì¼ì¹˜ | "ì•„ì¿ ì•„í•„" = `aquapeel` |
| **80** | í¬í•¨ ë§¤ì¹˜ | ì‹œìˆ ëª…ì— root/alias ì´ë¦„ì´ í¬í•¨ë¨ | "ìŠˆë§í¬ ìœ ë‹ˆë²„ìŠ¤ 300ìƒ·" â†’ `shurink` |
| **70** | ì—­í¬í•¨ ë§¤ì¹˜ | root/alias ì´ë¦„ì— ì‹œìˆ ëª…ì´ í¬í•¨ë¨ | (ë“œë¬¾) |
| **60** | í‚¤ì›Œë“œ ë§¤ì¹˜ | í‚¤ì›Œë“œ ë§¤í•‘ í…Œì´ë¸”ë¡œ ë§¤ì¹­ | "í”¼ì½”ìŠˆì–´ í† ë‹" â†’ `pico_laser` |
| **40** | ê·¸ë£¹ ë§¤ì¹˜ | group_id ê¸°ë°˜ fallback ë§¤ì¹­ | "ì™€ì´ì†”ë£¨ì…˜" (filler_volume) â†’ `korean_filler` |

### match_source (ë§¤ì¹­ ì†ŒìŠ¤)

| ê°’ | ì„¤ëª… | ì‹ ë¢°ë„ |
|------|------|--------|
| **root** | `treatments_root` í…Œì´ë¸”ì˜ ko/enê³¼ ì§ì ‘ ë§¤ì¹­ | ë†’ìŒ |
| **alias** | `treatments_alias` í…Œì´ë¸”ì˜ ko/enê³¼ ë§¤ì¹­ | ë†’ìŒ |
| **keyword** | ìˆ˜ë™ ì •ì˜ëœ í‚¤ì›Œë“œ ë§¤í•‘ìœ¼ë¡œ ë§¤ì¹­ | ì¤‘ê°„ |
| **group** | group_id ì¹´í…Œê³ ë¦¬ë¡œ fallback ë§¤ì¹­ | ë‚®ìŒ |

---

## ğŸ¯ ì£¼ìš” ì‚¬ìš© íë¦„

### ì‹œìˆ  ì„ íƒ â†’ ë³‘ì› ì°¾ê¸°

```
1. ì‚¬ìš©ìê°€ treatment_care_protocols í™”ë©´ì—ì„œ ì‹œìˆ  ì¹´ë“œ ì„ íƒ
   â””â”€â–¶ primary_treatment_ids ì¤‘ í•˜ë‚˜ ì„ íƒ (ì˜ˆ: "potenza")

2. treatment_productì—ì„œ í•´ë‹¹ ì‹œìˆ  ì œê³µ ë³‘ì› ê²€ìƒ‰
   â””â”€â–¶ WHERE 'potenza' = ANY(matched_root_ids)

3. ê²°ê³¼: í•´ë‹¹ ì‹œìˆ ì„ ì œê³µí•˜ëŠ” ë³‘ì›ë“¤ê³¼ ìƒí’ˆ ëª©ë¡ ë°˜í™˜
```

### Node.js ì¿¼ë¦¬ ì˜ˆì‹œ

```javascript
// 1. ë‹¨ì¼ ì‹œìˆ ë¡œ ë³‘ì› ì°¾ê¸°
const treatmentId = 'potenza';
const result = await pool.query(`
  SELECT 
    tp.id_uuid_hospital,
    tp.name,
    tp.price,
    tp.match_score
  FROM treatment_product tp
  WHERE $1 = ANY(tp.matched_root_ids)
  ORDER BY tp.match_score DESC, tp.price ASC
`, [treatmentId]);

// 2. í”„ë¡œí† ì½œì˜ ì‹œìˆ ë“¤ë¡œ ë³‘ì› ì°¾ê¸°
const treatmentIds = ['potenza', 'ulthera', 'shurink'];
const result = await pool.query(`
  SELECT 
    tp.id_uuid_hospital,
    array_agg(DISTINCT unnested) as matched_treatments,
    count(DISTINCT unnested) as match_count
  FROM treatment_product tp,
       LATERAL unnest(tp.matched_root_ids) as unnested
  WHERE unnested = ANY($1)
  GROUP BY tp.id_uuid_hospital
  ORDER BY match_count DESC
`, [treatmentIds]);
```

---

## ğŸ“ ê´€ë ¨ íŒŒì¼

| íŒŒì¼ | ìš©ë„ |
|------|------|
| `update_treatment_product.sql` | DB ìŠ¤í‚¤ë§ˆ ë³€ê²½ ë° ë§¤ì¹­ ë°ì´í„° ì—…ë°ì´íŠ¸ |
| `treatment_product_matched.csv` | ë§¤ì¹­ ê²°ê³¼ CSV (ë°±ì—…/ê²€í† ìš©) |
| `hospital_search_functions.sql` | PostgreSQL í•¨ìˆ˜ (ì„ íƒì  ì‚¬ìš©) |

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **match_scoreê°€ 40ì¸ í•­ëª©ë“¤**ì€ ì •í™•í•œ ë§¤ì¹­ì´ ì•„ë‹ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ê²€ìˆ˜ ê¶Œì¥
2. **ìƒˆ ë³‘ì› ë°ì´í„° ì¶”ê°€ ì‹œ** ë§¤ì¹­ ìŠ¤í¬ë¦½íŠ¸ ì¬ì‹¤í–‰ í•„ìš”
3. **treatments_rootì— ìƒˆ ì‹œìˆ  ì¶”ê°€ ì‹œ** í‚¤ì›Œë“œ ë§¤í•‘ í…Œì´ë¸”ë„ ì—…ë°ì´íŠ¸ í•„ìš”

---

*ìµœì¢… ì—…ë°ì´íŠ¸: 2025-12-01*
